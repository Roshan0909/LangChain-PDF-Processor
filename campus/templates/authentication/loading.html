{% extends 'base.html' %}

{% block title %}Loading - Smart Campus{% endblock %}

{% block content %}
</div><!-- Close base container -->
<div class="loading-container">
    <!-- Animated Background -->
    <div class="loading-bg">
        <!-- Animated Grid -->
        <div class="grid-bg"></div>
        
        <!-- Floating Particles -->
        <div class="particle particle-1"></div>
        <div class="particle particle-2"></div>
        <div class="particle particle-3"></div>
        <div class="particle particle-4"></div>
        
        <!-- Background Orbs -->
        <div class="loading-orb orb-1"></div>
        <div class="loading-orb orb-2"></div>
    </div>
    
    <!-- Loading Content -->
    <div class="loading-content">
        <!-- Central Loader -->
        <div class="cyber-loader">
            <!-- Outer Rotating Ring -->
            <div class="loader-ring outer-ring"></div>
            <!-- Middle Rotating Ring -->
            <div class="loader-ring middle-ring"></div>
            <!-- Inner Rotating Ring -->
            <div class="loader-ring inner-ring"></div>
            
            <!-- Central Gear -->
            <div class="central-gear">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="gear-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#06B6D4;stop-opacity:0.8" />
                            <stop offset="100%" style="stop-color:#0891b2;stop-opacity:0.6" />
                        </linearGradient>
                    </defs>
                    <!-- Gear Shape -->
                    <circle cx="50" cy="50" r="40" fill="none" stroke="url(#gear-gradient)" stroke-width="1.5" opacity="0.6"/>
                    <circle cx="50" cy="50" r="30" fill="none" stroke="url(#gear-gradient)" stroke-width="1" opacity="0.4"/>
                    
                    <!-- Gear Teeth -->
                    <g stroke="url(#gear-gradient)" stroke-width="2" opacity="0.7">
                        <line x1="50" y1="10" x2="50" y2="20"/>
                        <line x1="85.36" y1="14.64" x2="81.82" y2="23.64"/>
                        <line x1="90" y1="50" x2="80" y2="50"/>
                        <line x1="85.36" y1="85.36" x2="76.36" y2="78.18"/>
                        <line x1="50" y1="90" x2="50" y2="80"/>
                        <line x1="14.64" y1="85.36" x2="23.64" y2="78.18"/>
                        <line x1="10" y1="50" x2="20" y2="50"/>
                        <line x1="14.64" y1="14.64" x2="23.64" y2="23.64"/>
                    </g>
                </svg>
            </div>
            
            <!-- Scanning Lines -->
            <div class="scan-line"></div>
        </div>
        
        <!-- Loading Text -->
        <div class="loading-text-wrapper">
            <h2 class="loading-title">Processing Login</h2>
            <p class="loading-subtitle">Authenticating your credentials...</p>
            <div class="loading-dots">
                <span class="dot dot-1"></span>
                <span class="dot dot-2"></span>
                <span class="dot dot-3"></span>
            </div>
        </div>
        
        <!-- Status Messages -->
        <div class="status-messages">
            <div class="status-item">
                <span class="status-icon">✓</span>
                <span class="status-text">Verifying identity</span>
            </div>
            <div class="status-item">
                <span class="status-icon loading-icon">⟳</span>
                <span class="status-text">Loading profile</span>
            </div>
            <div class="status-item">
                <span class="status-icon">○</span>
                <span class="status-text">Syncing data</span>
            </div>
        </div>
    </div>
</div>

<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body {
        height: 100%;
        width: 100%;
        overflow: hidden;
    }
    
    body {
        background: linear-gradient(135deg, #0f172a 0%, #1a2a4a 100%);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    .container { display: none; }
    nav.navbar { display: none; }
    
    /* Loading Container */
    .loading-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #0f172a 0%, #1a2a4a 50%, #06B6D4 100%);
        overflow: hidden;
        z-index: 9999;
    }
    
    /* Background Elements */
    .loading-bg {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 0;
        overflow: hidden;
    }
    
    /* Animated Grid */
    .grid-bg {
        position: absolute;
        width: 200%;
        height: 200%;
        background-image: 
            linear-gradient(rgba(6, 182, 212, 0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(6, 182, 212, 0.1) 1px, transparent 1px);
        background-size: 50px 50px;
        animation: grid-flow 8s linear infinite;
        z-index: 0;
    }
    
    @keyframes grid-flow {
        0% { transform: translate(0, 0); }
        100% { transform: translate(50px, 50px); }
    }
    
    /* Particles */
    .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: radial-gradient(circle at 30% 30%, rgba(6, 182, 212, 0.8), rgba(6, 182, 212, 0.2));
        border-radius: 50%;
        animation: particle-float 20s infinite ease-in-out;
        z-index: 1;
    }
    
    .particle-1 { width: 6px; height: 6px; top: 10%; left: 15%; animation-duration: 20s; animation-delay: 0s; }
    .particle-2 { width: 4px; height: 4px; top: 30%; right: 20%; animation-duration: 25s; animation-delay: 2s; }
    .particle-3 { width: 5px; height: 5px; bottom: 25%; left: 10%; animation-duration: 22s; animation-delay: 4s; }
    .particle-4 { width: 3px; height: 3px; bottom: 15%; right: 15%; animation-duration: 28s; animation-delay: 1s; }
    
    @keyframes particle-float {
        0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
        50% { transform: translate(40px, -40px) scale(1.5); opacity: 0.8; }
    }
    
    /* Orbs */
    .loading-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        animation: orb-pulse 8s ease-in-out infinite;
        z-index: 1;
    }
    
    .orb-1 {
        width: 400px;
        height: 400px;
        background: linear-gradient(135deg, rgba(6, 182, 212, 0.2) 0%, rgba(8, 145, 178, 0.15) 100%);
        top: -200px;
        left: -200px;
        animation-delay: 0s;
    }
    
    .orb-2 {
        width: 500px;
        height: 500px;
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(6, 182, 212, 0.1) 100%);
        bottom: -250px;
        right: -250px;
        animation-delay: 2s;
    }
    
    @keyframes orb-pulse {
        0%, 100% { transform: scale(1); opacity: 0.5; }
        50% { transform: scale(1.2); opacity: 0.8; }
    }
    
    /* Loading Content */
    .loading-content {
        position: relative;
        z-index: 10;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 60px;
    }
    
    /* Cyber Loader */
    .cyber-loader {
        position: relative;
        width: 200px;
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Loader Rings */
    .loader-ring {
        position: absolute;
        border: 2px solid transparent;
        border-radius: 50%;
        background: linear-gradient(135deg, #06B6D4 0%, #0891b2 50%, transparent 100%) border-box;
        animation: ring-spin 3s linear infinite;
    }
    
    .outer-ring {
        width: 200px;
        height: 200px;
        border-color: transparent;
        animation-duration: 3s;
        animation-direction: clockwise;
    }
    
    .middle-ring {
        width: 140px;
        height: 140px;
        border-color: transparent;
        animation-duration: 2.5s;
        animation-direction: counter-clockwise;
        animation-direction: reverse;
    }
    
    .inner-ring {
        width: 80px;
        height: 80px;
        border-color: transparent;
        animation-duration: 2s;
        animation-direction: clockwise;
    }
    
    @keyframes ring-spin {
        0% { transform: rotate(0deg); opacity: 1; }
        100% { transform: rotate(360deg); opacity: 1; }
    }
    
    /* Central Gear */
    .central-gear {
        position: absolute;
        width: 60px;
        height: 60px;
        animation: gear-rotate 4s linear infinite;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .central-gear svg {
        width: 100%;
        height: 100%;
        filter: drop-shadow(0 0 20px rgba(6, 182, 212, 0.6));
    }
    
    @keyframes gear-rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    /* Scanning Line */
    .scan-line {
        position: absolute;
        width: 180px;
        height: 2px;
        background: linear-gradient(90deg, transparent, #06B6D4, transparent);
        top: 50%;
        left: 50%;
        transform: translateX(-50%) translateY(-50%);
        animation: scan 2s ease-in-out infinite;
        box-shadow: 0 0 20px rgba(6, 182, 212, 0.8);
    }
    
    @keyframes scan {
        0% { top: 20%; }
        50% { top: 50%; }
        100% { top: 80%; }
    }
    
    /* Loading Text */
    .loading-text-wrapper {
        text-align: center;
        animation: fade-in-up 0.8s ease-out;
    }
    
    .loading-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: #06B6D4;
        margin-bottom: 8px;
        letter-spacing: 1px;
        text-shadow: 0 0 30px rgba(6, 182, 212, 0.5);
    }
    
    .loading-subtitle {
        font-size: 0.95rem;
        color: #94a3b8;
        margin-bottom: 20px;
        font-weight: 400;
    }
    
    /* Loading Dots */
    .loading-dots {
        display: flex;
        gap: 12px;
        justify-content: center;
    }
    
    .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: linear-gradient(135deg, #06B6D4, #0891b2);
        animation: dot-pulse 1.5s ease-in-out infinite;
        box-shadow: 0 0 15px rgba(6, 182, 212, 0.6);
    }
    
    .dot-1 { animation-delay: 0s; }
    .dot-2 { animation-delay: 0.2s; }
    .dot-3 { animation-delay: 0.4s; }
    
    @keyframes dot-pulse {
        0%, 100% { transform: scale(1); opacity: 0.5; }
        50% { transform: scale(1.4); opacity: 1; }
    }
    
    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Status Messages */
    .status-messages {
        display: flex;
        flex-direction: column;
        gap: 12px;
        font-size: 0.9rem;
    }
    
    .status-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 8px 16px;
        background: rgba(6, 182, 212, 0.08);
        border: 1px solid rgba(6, 182, 212, 0.2);
        border-radius: 8px;
        backdrop-filter: blur(10px);
        animation: slide-in-left 0.6s ease-out forwards;
        opacity: 0;
    }
    
    .status-item:nth-child(1) { animation-delay: 0.2s; }
    .status-item:nth-child(2) { animation-delay: 0.4s; }
    .status-item:nth-child(3) { animation-delay: 0.6s; }
    
    @keyframes slide-in-left {
        from {
            opacity: 0;
            transform: translateX(-20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    .status-icon {
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #22c55e;
        font-weight: bold;
    }
    
    .status-icon.loading-icon {
        color: #06B6D4;
        animation: rotate-icon 2s linear infinite;
    }
    
    @keyframes rotate-icon {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    .status-text {
        color: #cbd5e1;
        font-weight: 500;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
        .cyber-loader {
            width: 150px;
            height: 150px;
        }
        
        .outer-ring { width: 150px; height: 150px; }
        .middle-ring { width: 105px; height: 105px; }
        .inner-ring { width: 60px; height: 60px; }
        .scan-line { width: 135px; }
        
        .loading-title { font-size: 1.5rem; }
        .loading-subtitle { font-size: 0.85rem; }
        
        .loading-content { gap: 40px; }
    }
</style>

<script>
    // Optional: Auto-redirect after a timeout
    // setTimeout(() => {
    //     window.location.href = '/students/dashboard/';
    // }, 3000);
</script>
{% endblock %}
